(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{153:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"vue多页配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue多页配置","aria-hidden":"true"}},[t._v("#")]),t._v(" vue多页配置")]),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[t._v("#")]),t._v(" 前言")]),a("blockquote",[a("p",[t._v("​\t前阵子和app端做混合开发，而我们前端使用的技术又是vue，单页肯定不行，于是就需要使用vue进行多页开发，本来这块是我同事进行修改webpack进行配置的，后来我给记录了下来，方便以后也能使用。好了，闲话不多说，开始正题了。")])]),a("h2",{attrs:{id:"webpack配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置","aria-hidden":"true"}},[t._v("#")]),t._v(" webpack配置")]),a("p",[t._v("​\t初始化项目啥都不说了，直接进入webpack修改配置的步骤。")]),a("p",[t._v("​\t首先我们初始化完项目后进入"),a("code",[t._v("build")]),t._v("目录中，找到"),a("code",[t._v("webpack.base.conf.js")]),t._v("。因为vue是单页项目，所以我们能发现入口只有一个"),a("code",[t._v("main.js")]),t._v("文件：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  entry"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    app"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./src/main.js'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("我们要多页，那么肯定是需要多个入口的。所以等会这块配置需要做修改。")]),a("p",[t._v("其次，我们打开"),a("code",[t._v("webpack.prod.conf.js")]),t._v("文件，这个文件是打包的配置的js文件，我们找到如下代码：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  filename"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'index.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  inject"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  minify"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    removeComments"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    collapseWhitespace"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    removeAttributeQuotes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// more options:")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// https://github.com/kangax/html-minifier#options-quick-reference")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// necessary to consistently work with multiple chunks via CommonsChunkPlugin")]),t._v("\n  chunksSortMode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dependency'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("这块代码主要是将单页打包成正式项目，因为针对多页的打包，我们待会这里也需要做修改。")]),a("h2",{attrs:{id:"多页配置一-—-pages-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多页配置一-—-pages-json","aria-hidden":"true"}},[t._v("#")]),t._v(" 多页配置一 — pages.json")]),a("p",[t._v("​\t要配置多页，我们这边的做法是配置一个页面数据json，比如pages.json：")]),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"page1"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"path"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./src/views/page1/index.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"title"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"页面一"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"page2"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"path"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./src/views/page2/index.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"title"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"页面二"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"page3"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"path"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./src/views/page3/index.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"title"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"页面三"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("path -> 页面主入口\ntitle -> 对应页面的title")])]),a("p",[t._v("根据"),a("code",[t._v("path")]),t._v("我们创建对应的文件目录，如下图：")]),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/2262344-253e4e25128895c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"页面目录"}})]),a("p",[t._v("以"),a("code",[t._v("page1")]),t._v("为例：")]),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- page1.vue --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    i am page1\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Page1 "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./page1'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("/* eslint-disable no-new */")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#app'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  render"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" h "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("h")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Page1"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("其实就相当于把"),a("code",[t._v("views")]),t._v("下的每个文件夹都当做一个单页项目来开发即可。")]),a("h2",{attrs:{id:"多页配置二-—-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多页配置二-—-webpack","aria-hidden":"true"}},[t._v("#")]),t._v(" 多页配置二 — webpack")]),a("p",[t._v("​\t上文我们说到要修改"),a("code",[t._v("webpack.base.conf.js")]),t._v("中的入口文件，但这么做的前提是，我们需要先通过pages.json获取到页面列表。我们将这一步操作放到"),a("code",[t._v("build->utils.js")]),t._v("中：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// utils.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HtmlWebpackPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'html-webpack-plugin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getEntry")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("entries")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'../pages.json'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("map")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("assign")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" key "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nexports"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getEntry "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" getEntry\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 通过循环 多页编译")]),t._v("\nexports"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("generateHTML")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getEntry")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("map")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" page"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      filename"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("page"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(".html`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      template"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" page"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("template "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'index.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      inject"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      chunks"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'vendor'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" page"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      chunksSortMode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'manual'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// PS：如果需要使用别的模板 可以在pages.json中页面对象中多配置一个template属性 值为模板地址，比如")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//{")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('//    "page4": {')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('//        "path": "./src/views/page4/index.js",')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('//        "title": "页面四",')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('//        "template": "./src/template/template1.html"')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//    }")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//}")]),t._v("\n")])])]),a("p",[t._v("然后我们打开"),a("code",[t._v("webpack.base.conf.js")]),t._v("：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// webpack.base.conf.js")]),t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  entry"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" utils"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getEntry")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("reduce")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    o"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" v"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" o\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("然后我们再配置"),a("code",[t._v("webpack.dev.conf.js")]),t._v("，这样我们可以直接通过"),a("code",[t._v("localhost")]),t._v("进行页面访问并调试：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// webpack.dev.conf.js")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 注释掉这一句")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// new HtmlWebpackPlugin({")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   filename: 'index.html',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   template: 'index.html',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   inject: true")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// }),")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 加上这一句")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("utils"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("generateHTML")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("这样配置完后，使用"),a("code",[t._v("yarn dev")]),t._v("运行项目，即可通过"),a("code",[t._v("localhost:8080/page1.html")]),t._v("访问到对应页面的内容了。")]),a("blockquote",[a("p",[t._v("切记，这样通过localhost访问的页面要加上.html才能正确访问")])]),a("p",[t._v("最后一步，打包的配置：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// webpack.prod.conf.js")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 在webpackConfig的plugin中注释掉以下内容")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// new HtmlWebpackPlugin({")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   filename: config.build.index,")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   template: 'index.html',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   inject: true,")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   minify: {")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//     removeComments: true,")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//     collapseWhitespace: true,")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//     removeAttributeQuotes: true")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//     // more options:")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//     // https://github.com/kangax/html-minifier#options-quick-reference")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   },")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   // necessary to consistently work with multiple chunks via CommonsChunkPlugin")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   chunksSortMode: 'dependency'")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// }),")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 以下是打包共用模块的内容，多页中用不少 也可注释")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// new webpack.optimize.CommonsChunkPlugin({")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   name: 'manifest',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   minChunks: Infinity")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// }),")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// This instance extracts shared chunks from code splitted chunks and bundles them")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// in a separate chunk, similar to the vendor chunk")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// new webpack.optimize.CommonsChunkPlugin({")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   name: 'app',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   async: 'vendor-async',")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   children: true,")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//   minChunks: 3")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// }),")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 然后加上以下代码")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("utils"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("generateHTML")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("这样我们就大功告成了~")]),a("p",[t._v("然后我们使用"),a("code",[t._v("yarn build")]),t._v("来看看打包的情况：")]),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/2262344-df9720bdd88560a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"打包后的文件目录"}})]),a("p",[t._v("这样，我们的多页就配置成功了哦~ 好嘞 大功告成！")]),a("blockquote",[a("p",[t._v("如果打开页面是空白，可千万别忘了去"),a("code",[t._v("config->index.js")]),t._v("中查看下，是否将"),a("code",[t._v("assetsPublicPath")]),t._v("中的"),a("code",[t._v("/")]),t._v("配置成了"),a("code",[t._v("./")]),t._v("哦")])])])}],!1,null,null,null);s.default=e.exports}}]);