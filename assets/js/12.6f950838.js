(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{162:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),a("p",[t._v("安装成功后，可以使用以下命令启动或者关闭服务：")]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),a("p",[t._v("先增加一张表：")]),t._m(11),a("p",[t._v("常用的简单查询有：")]),t._m(12),t._m(13),a("p",[t._v("数据添加的语句：")]),t._m(14),a("p",[t._v("数据修改的语句：")]),t._m(15),a("p",[t._v("数据删除的语句:")]),t._m(16),t._m(17),t._m(18),a("p",[t._v("先建立两张表：")]),t._m(19),a("p",[t._v("并插入若干数据：")]),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),a("p",[t._v("得到结果为：")]),t._m(26),t._m(27),a("img",{attrs:{src:t.$withBase("/assets/mysql/join.gif")}}),t._m(28),t._m(29),t._m(30),a("p",[t._v("得到的结果为：")]),t._m(31),t._m(32),a("img",{attrs:{src:t.$withBase("/assets/mysql/leftjoin.gif")}}),t._m(33),t._m(34),t._m(35),a("p",[t._v("得到的结果为：")]),t._m(36),t._m(37),a("img",{attrs:{src:t.$withBase("/assets/mysql/rightjoin.gif")}}),t._m(38),t._m(39),t._m(40),t._m(41),a("p",[t._v("然后我们统计下每个人所拥有的产品数：")]),t._m(42),a("p",[t._v("会得到以下结果：")]),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),a("p",[t._v("建立索引的方式：")]),t._m(48),a("p",[t._v("删除索引可以使用：")]),t._m(49),t._m(50),t._m(51),t._m(52)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("直接使用"),s("code",[this._v("brew")]),this._v("安装即可：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("brew "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" mysql\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("安装成功后，如果命令行是"),a("code",[t._v("bash")]),t._v("的话，使用"),a("code",[t._v("source ~/.bash_profile")]),t._v("重新执行下环境变量。如果使用的是"),a("code",[t._v("zsh")]),t._v("，那么使用"),a("code",[t._v("source ~/.zshrc")]),t._v("重新执行，让环境变量生效。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("strong",[t._v("Ps: 如果有在"),a("code",[t._v(".zshrc")]),t._v("文件中使用"),a("code",[t._v("srouce ~/.bash_profile")]),t._v("命令的话 就可以使用"),a("code",[t._v("source ~/.zshrc")]),t._v("，如果没有 则直接使用"),a("code",[t._v("source ~/.bash_profile")]),t._v("即可。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("mysql.server start "),s("span",{attrs:{class:"token comment"}},[this._v("# 启动服务")]),this._v("\n\nmysql.server stop "),s("span",{attrs:{class:"token comment"}},[this._v("# 关闭服务")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("启动成功后，使用命令"),s("code",[this._v("mysql -uroot")]),this._v("直接进入数据库，如果有设置密码的话，使用命令"),s("code",[this._v("mysql -uroot -p")]),this._v("，然后按提示输入密码即可。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("忘记密码")]),s("p",[this._v("如果忘记密码或者要设置用户的登录密码，可以使用命令重置密码:")]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("alter user "),s("span",{attrs:{class:"token string"}},[this._v("'root'")]),this._v("@localhost IDENTIFIED mysql_native_password by "),s("span",{attrs:{class:"token string"}},[this._v("'你的新密码'")]),this._v("\n")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("可以使用"),a("code",[t._v("mysql")]),t._v("的"),a("code",[t._v("GUI")]),t._v("工具进行操作，比如"),a("code",[t._v("navicat mysql")]),t._v("或者官网提供的"),a("code",[t._v("mysql workbench")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"简单查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单查询","aria-hidden":"true"}},[this._v("#")]),this._v(" 简单查询")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("所谓的"),a("code",[t._v("CURD")]),t._v("就是我们平时所说的"),a("strong",[t._v("增(Creat)")]),t._v("、"),a("strong",[t._v("删(Delete)")]),t._v("、"),a("strong",[t._v("改(Update)")]),t._v("、"),a("strong",[t._v("查(Read)")]),t._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("show databases"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 显示当前所拥有的数据库")]),t._v("\n\nuse demo"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 进入demo数据库")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 创建一张book_categories表")]),t._v("\nCREATE TABLE "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("book_categories"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" int"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" unsigned NOT NULL AUTO_INCREMENT,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("category_name"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" varchar"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("created_at"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" datetime DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("updated_at"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" datetime DEFAULT NULL,\n  PRIMARY KEY "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ENGINE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("InnoDB AUTO_INCREMENT"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("39 DEFAULT CHARSET"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from book_categories"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询书籍分类表的所有数据")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id, category_name from book_categories"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询并列出表的id和caetgory_name字段")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id, category_name from book_categories where "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" 2"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询表中id大于2的数据，并显示id和caetgory_name字段")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id, category_name from book_categories where category_name like "),a("span",{attrs:{class:"token string"}},[t._v("'云%'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询表中分类名称以云开头的数据，同理，还有%云-以云结尾的，%云%-带有云字的。")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id, category_name from book_categories order by "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" desc"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询结果以id降序排列")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from book_categories having "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" 3"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 查询id大于3的所有数据")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from book_categories group by category_name"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 以category_name对数据进行分组统计")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("having 和 where 的区别")]),a("ul",[a("li",[a("code",[t._v("having")]),t._v("的判断是数据分组前，通常和"),a("code",[t._v("group by")]),t._v("一起。"),a("code",[t._v("where")]),t._v("的判断是数据读入内存的时候。")]),a("li",[a("code",[t._v("having")]),t._v("可以使用字段别名，而"),a("code",[t._v("where")]),t._v("不行。比如：")])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 使用having没问题，使用where会报name无法识别的错误。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id, category_name as name from book_categories having name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'xxx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("having")]),t._v("可以使用统计函数，而"),a("code",[t._v("where")]),t._v("不行。比如：")])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from book_categories group by category_name having count"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" 1"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("insert into book_categories "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("category_name"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" values"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'玄幻'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 增加一条记录 - 指定列名")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 或者可以使用")]),t._v("\ninsert into book_categories values"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0,"),a("span",{attrs:{class:"token string"}},[t._v("'玄幻'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("#第一个属性如果为id自增的时候，可以直接设置成0")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("update book_categories "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),t._v(" category_name"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'言情'")]),t._v(" where "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 1"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 修改id为1的数据的分类名称为言情")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 如果不指定条件 则更新该表中的所有数据")]),t._v("\nupdate book_categories "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),t._v(" category_name"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'言情'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 修改表中所有数据的分类名称为言情")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 替换数据")]),t._v("\nupdate book_categories "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),t._v(" category_name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" replace"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("category_name, "),a("span",{attrs:{class:"token string"}},[t._v("'言情'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'历史'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 批量修改表中所有分类名为言情的数据为历史， 如果指定修改 则加入where条件判断即可")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("delete from book_categories"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 删除分类表中的所有数据")]),t._v("\n\ndelete from book_categories where "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 2"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 删除id为2的数据")]),t._v("\n\ntruncate table book_categories"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 删除分类表的所有数据")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("truncate 和 delete 的区别")]),a("p",[t._v("两者都是删除表的所有数据，具体区别如下：")]),a("ul",[a("li",[a("code",[t._v("delete")]),t._v("可以删除单条，指定"),a("code",[t._v("where")]),t._v("条件即可，且删除后可以回滚。"),a("code",[t._v("truncate")]),t._v("只能删除整表，且操作不可回滚。")]),a("li",[a("code",[t._v("delete")]),t._v("删除后再新增数据，自增 id 总是以总数据的长度+1 进行自增，而"),a("code",[t._v("truncate")]),t._v("从 1 开始。")]),a("li",[a("code",[t._v("delete")]),t._v("每次操作后都会有日志记录，而"),a("code",[t._v("truncate")]),t._v("不会。")]),a("li",[a("code",[t._v("truncate")]),t._v("的执行效率比"),a("code",[t._v("delete")]),t._v("高。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"多表查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多表查询","aria-hidden":"true"}},[this._v("#")]),this._v(" 多表查询")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# user 表")]),t._v("\nCREATE TABLE "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("user"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" int"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" unsigned NOT NULL AUTO_INCREMENT,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("name"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" varchar"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("age"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" int"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("3"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("description"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" varchar"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("255"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  PRIMARY KEY "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ENGINE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("InnoDB AUTO_INCREMENT"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("39 DEFAULT CHARSET"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# product 表")]),t._v("\nCREATE TABLE "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("product"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" int"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" unsigned NOT NULL AUTO_INCREMENT,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("product_name"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" varchar"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("nums"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" int"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("owner"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" varchar"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DEFAULT NULL,\n  PRIMARY KEY "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),a("span",{attrs:{class:"token function"}},[t._v("id")]),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ENGINE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("InnoDB AUTO_INCREMENT"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("39 DEFAULT CHARSET"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("user")]),this._v(" 表：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("id")]),a("th",[t._v("name")]),a("th",[t._v("age")]),a("th",[t._v("description")])])]),a("tbody",[a("tr",[a("td",[t._v("1")]),a("td",[t._v("张三")]),a("td",[t._v("18")]),a("td",[t._v("我是张三")])]),a("tr",[a("td",[t._v("2")]),a("td",[t._v("李四")]),a("td",[t._v("22")]),a("td",[t._v("我是李四")])]),a("tr",[a("td",[t._v("3")]),a("td",[t._v("小六")]),a("td",[t._v("24")]),a("td",[t._v("我是小六")])]),a("tr",[a("td",[t._v("4")]),a("td",[t._v("王五")]),a("td",[t._v("16")]),a("td",[t._v("我是王五")])]),a("tr",[a("td",[t._v("5")]),a("td",[t._v("小七")]),a("td",[t._v("21")]),a("td",[t._v("我是小七")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("product")]),this._v(" 表：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("id")]),a("th",[t._v("product_name")]),a("th",[t._v("nums")]),a("th",[t._v("owner")])])]),a("tbody",[a("tr",[a("td",[t._v("1")]),a("td",[t._v("苹果")]),a("td",[t._v("23")]),a("td",[t._v("张三")])]),a("tr",[a("td",[t._v("2")]),a("td",[t._v("梨子")]),a("td",[t._v("15")]),a("td",[t._v("李四")])]),a("tr",[a("td",[t._v("3")]),a("td",[t._v("葡萄")]),a("td",[t._v("27")]),a("td",[t._v("小八")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"内连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内连接","aria-hidden":"true"}},[this._v("#")]),this._v(" 内连接")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 检索有水果产品的用户")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name, product_name, nums from user, product where user.name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" product.owner"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 或者使用内连接")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a.name, b.product_name, b.nums from user as a "),a("span",{attrs:{class:"token function"}},[t._v("join")]),t._v(" product as b on a.name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" b.product_name"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("product_name")]),a("th",[t._v("nums")])])]),a("tbody",[a("tr",[a("td",[t._v("张三")]),a("td",[t._v("苹果")]),a("td",[t._v("23")])]),a("tr",[a("td",[t._v("李四")]),a("td",[t._v("梨子")]),a("td",[t._v("15")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("会发现，得到的结果是两张表共有的数据，而非共有部分则会省略，所以"),s("code",[this._v("JOIN")]),this._v("("),s("code",[this._v("INNER JOIN")]),this._v(")是获取两张表的"),s("strong",[this._v("交集")]),this._v("，如下图：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"左连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#左连接","aria-hidden":"true"}},[this._v("#")]),this._v(" 左连接")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("先上"),s("code",[this._v("sql")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 以左表为基准，获取用户的产品情况")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a.name, b.product_name from user as a left "),a("span",{attrs:{class:"token function"}},[t._v("join")]),t._v(" product as b on a.name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" b.product_owner"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("product_name")])])]),a("tbody",[a("tr",[a("td",[t._v("张三")]),a("td",[t._v("苹果")])]),a("tr",[a("td",[t._v("李四")]),a("td",[t._v("梨子")])]),a("tr",[a("td",[t._v("小六")]),a("td",[t._v("NULL")])]),a("tr",[a("td",[t._v("王五")]),a("td",[t._v("NULL")])]),a("tr",[a("td",[t._v("小七")]),a("td",[t._v("NULL")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("会发现，左表的数据全部出来了，而右表就显示了"),s("strong",[this._v("与之相关")]),this._v("的数据，没有的则显示为"),s("code",[this._v("NULL")]),this._v("，所以左连接，简单点说，就是以左表为基准("),s("code",[this._v("left join")]),this._v("左边为左表)，获取右表与之相关的数据，可以用以下图来解释：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"右连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#右连接","aria-hidden":"true"}},[this._v("#")]),this._v(" 右连接")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("老规矩，先上"),s("code",[this._v("sql")]),this._v("，把"),s("code",[this._v("左连接")]),this._v("的"),s("code",[this._v("sql")]),this._v("修改下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 以右表为基准，获取产品的所属情况")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a.name, b.product_name from user as a right "),a("span",{attrs:{class:"token function"}},[t._v("join")]),t._v(" product as b on a.name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" b.product_owner"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("product_name")])])]),a("tbody",[a("tr",[a("td",[t._v("张三")]),a("td",[t._v("苹果")])]),a("tr",[a("td",[t._v("李四")]),a("td",[t._v("梨子")])]),a("tr",[a("td",[t._v("NULL")]),a("td",[t._v("葡萄")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("结果刚好和"),a("code",[t._v("左连接")]),t._v("相反，把右表的数据完全显示，然后左表显示与之相关的数据，没有则显示"),a("code",[t._v("NULL")]),t._v("，这里要注意的是，和它名字一样，"),a("strong",[t._v("右连接"),a("code",[t._v("right join")]),t._v("右边的为右表，而不是左")]),t._v("，如下是与之匹配的图：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("小提示")]),s("p",[s("code",[this._v("右连接")]),this._v("在实际场景中很少用到，别问我为什么，后端小伙伴这么和我说的 😂，而一切的"),s("code",[this._v("右连接")]),this._v("都可以转化为"),s("code",[this._v("左连接")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分组","aria-hidden":"true"}},[this._v("#")]),this._v(" 分组")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用"),s("code",[this._v("Group by")]),this._v("可以对数据进行分组，我们给"),s("code",[this._v("product")]),this._v("表再加点数据：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("id")]),a("th",[t._v("product_name")]),a("th",[t._v("nums")]),a("th",[t._v("owner")])])]),a("tbody",[a("tr",[a("td",[t._v("1")]),a("td",[t._v("苹果")]),a("td",[t._v("23")]),a("td",[t._v("张三")])]),a("tr",[a("td",[t._v("2")]),a("td",[t._v("梨子")]),a("td",[t._v("15")]),a("td",[t._v("李四")])]),a("tr",[a("td",[t._v("3")]),a("td",[t._v("葡萄")]),a("td",[t._v("27")]),a("td",[t._v("小八")])]),a("tr",[a("td",[t._v("4")]),a("td",[t._v("桃子")]),a("td",[t._v("27")]),a("td",[t._v("小八")])]),a("tr",[a("td",[t._v("5")]),a("td",[t._v("菠萝")]),a("td",[t._v("27")]),a("td",[t._v("小八")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 统计每个人所拥有的产品数")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" owner, count"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("product_name"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" as total from product group by owner"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("name")]),a("th",[t._v("total")])])]),a("tbody",[a("tr",[a("td",[t._v("张三")]),a("td",[t._v("1")])]),a("tr",[a("td",[t._v("李四")]),a("td",[t._v("1")])]),a("tr",[a("td",[t._v("小八")]),a("td",[t._v("3")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("上面的例子就是以"),a("code",[t._v("owner")]),t._v("(所有者)来进行数据分组，使用"),a("code",[t._v("Count")]),t._v("来统计每个人所拥有的产品数，除此之外，还可以使用"),a("code",[t._v("Avg")]),t._v("、"),a("code",[t._v("Sum")]),t._v("等统计函数。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#索引","aria-hidden":"true"}},[this._v("#")]),this._v(" 索引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("索引是一张表不可或缺的一部分，因为给一张表建立个索引，可以加快"),s("code",[this._v("sql")]),this._v("查询时的效率，这对一些大型查询来说，是必要的。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("一张表可以建立一个索引，也可以建立多个索引。索引还分"),a("strong",[t._v("单列索引")]),t._v("和"),a("strong",[t._v("组合索引")]),t._v("，"),a("strong",[t._v("单列索引")]),t._v("即一个索引包含一个列，一张表可以有多个单列索引，而"),a("strong",[t._v("组合索引")]),t._v("是一个索引包含多个列")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 创建数据库时建立")]),t._v("\ncreate table demoTable"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("id")]),t._v(" INT"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("10"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" NOT NULL,\n  username VARCHAR"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" NOT NULL,\n  INDEX "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 如果表已经创建了，额外注入索引")]),t._v("\ncreate index name on demoTable"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\nalter table demoTable add index name"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("drop index "),s("span",{attrs:{class:"token punctuation"}},[this._v("[")]),this._v("name"),s("span",{attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" on demoTable"),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("索引的缺点")]),s("p",[this._v("虽然索引能加快我们检索的效率，但如果对表进行修改操作，比如删除、更新、插入时，这时的效率就会大大降低了。因为之前也说了，索引页是一张表，我们对实体表进行修改时，"),s("code",[this._v("mysql")]),this._v("内部也会去更新索引表。")]),s("p",[this._v("建立索引会占用磁盘空间，所以也不宜过过多的建立索引，造成滥用。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo","aria-hidden":"true"}},[this._v("#")]),this._v(" todo")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("事务")]),s("li",[this._v("子查询")]),s("li",[this._v("union [all / distinct]")]),s("li",[this._v("触发器")]),s("li",[this._v("函数")]),s("li",[this._v("存储过程")])])}],!1,null,null,null);s.default=e.exports}}]);