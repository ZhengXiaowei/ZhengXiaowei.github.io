(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),a("p",[t._v("简单点说就是因为 Retine 屏的分辨率始终是普通屏幕的 2 倍，1px 的边框在"),a("code",[t._v("devicePixelRatio=2")]),t._v("的 retina 屏下会显示成 2px，所以在高清屏下 1px 就显得和 2px 差不多，具体细节可以参考"),a("a",{attrs:{href:"http://www.w3cplus.com/css/towards-retina-web.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇文章"),a("OutboundLink")],1)]),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),t._m(37),t._m(38),t._m(39),a("p",[t._v("实现效果：")]),a("img",{attrs:{src:t.$withBase("/assets/css_xie.png")}}),t._m(40),t._m(41),a("p",[t._v("解决方案是：")]),t._m(42),t._m(43),t._m(44),a("p",[t._v("通过自身的了解和网上的收集，主要解决方案有以下几种：")]),t._m(45),t._m(46),t._m(47),t._m(48),a("p",[t._v("然后就针对这个问题谷歌上找了下，发现其实也很很多：")]),t._m(49),t._m(50),t._m(51),a("p",[t._v("这主要还区分安卓和苹果，两者的情况不同。")]),a("p",[t._v("出现这个的原因是：")]),t._m(52),a("p",[t._v("而官方"),a("a",{attrs:{href:"https://",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSSDK文档"),a("OutboundLink")],1),t._v("中也有提到：")]),t._m(53),t._m(54),a("p",[t._v("举个栗子：")]),t._m(55),t._m(56),a("p",[t._v("解决方式：")]),t._m(57),t._m(58),t._m(59),t._m(60)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"移动端问题锦集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端问题锦集","aria-hidden":"true"}},[this._v("#")]),this._v(" 移动端问题锦集")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"移动端-1px-问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端-1px-问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 移动端 1px 问题")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("产生原因")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("解决方案")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("使用媒体查询")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".border_1px")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("border")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid #f1f1f1"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token atrule"}},[a("span",{attrs:{class:"token rule"}},[t._v("@media")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token property"}},[t._v("-webkit-min-device-pixel-ratio")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token selector"}},[t._v(".border_1px")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("border")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.5px solid #f1f1f1"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("缺点")]),s("p",[this._v("兼容性差，有的 retina 屏会将 0.5 识别成 0px")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("伪类配合 transform")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-stylus extra-class"},[a("pre",{pre:!0,attrs:{class:"language-stylus"}},[a("code",[a("span",{attrs:{class:"token func"}},[a("span",{attrs:{class:"token function"}},[t._v("border-1px")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$color "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token hexcode"}},[t._v("#ccc")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $radius "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v("px"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $style "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" solid"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n  "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("position")]),t._v(" relative")]),t._v("\n\n  "),a("span",{attrs:{class:"token selector"}},[t._v("&:after")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("content")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")])]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("pointer-events")]),t._v(" none ")]),a("span",{attrs:{class:"token comment"}},[t._v("// 解决iphone上的点击无效Bug")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("display")]),t._v(" block")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("position")]),t._v(" absolute")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("left")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")])]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("top")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")])]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("transform-origin")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")])]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("border")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("px $style $color")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("border-radius")]),t._v(" $radius")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("box-sizing")]),t._v(" border-box")]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("width")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("100%")])]),t._v("\n    "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("height")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("100%")])]),t._v("\n\n    "),a("span",{attrs:{class:"token atrule-declaration"}},[a("span",{attrs:{class:"token atrule"}},[t._v("@media")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-webkit-min-device-pixel-ratio"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min-device-pixel-ratio"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("width")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200%")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("height")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200%")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("border-radius")]),t._v(" $radius "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("transform")]),t._v(" "),a("span",{attrs:{class:"token func"}},[a("span",{attrs:{class:"token function"}},[t._v("scale")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("0.5")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token func"}},[a("span",{attrs:{class:"token function"}},[t._v("translateZ")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])])])]),t._v("\n\n    "),a("span",{attrs:{class:"token atrule-declaration"}},[a("span",{attrs:{class:"token atrule"}},[t._v("@media")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-webkit-min-device-pixel-ratio"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min-device-pixel-ratio"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("width")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("300%")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("height")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("300%")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("border-radius")]),t._v(" $radius "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")])]),t._v("\n      "),a("span",{attrs:{class:"token property-declaration"}},[a("span",{attrs:{class:"token property"}},[t._v("transform")]),t._v(" "),a("span",{attrs:{class:"token func"}},[a("span",{attrs:{class:"token function"}},[t._v("scale")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("0.33")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token func"}},[a("span",{attrs:{class:"token function"}},[t._v("translateZ")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")])])])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("缺点")]),s("p",[this._v("如果碰上其他伪类并存，则需要多层嵌套")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("使用 box-shadow 模拟")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".border_1px")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("box-shadow")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inset 0px -1px 1px -1px #f1f1f1"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("缺点")]),s("p",[this._v("边框有阴影，颜色略浅")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("使用 view-port")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对于"),s("code",[this._v("devicePixelRatio=2")]),this._v("的：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对于"),s("code",[this._v("devicePixelRatio=3")]),this._v("的：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以使用"),s("code",[this._v("js")]),this._v("判断后动态插入：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" dpr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ratio "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" doc "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" head "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"head"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ratio "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dpr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ratio "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dpr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scale "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" dpr"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" meta "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmeta"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"name"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"viewport"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmeta"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v('"content"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`initial-scale=")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("scale"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(", maximum-scale=")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("scale"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(", minimum-scale=")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("scale"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(", user-scalable=no`")])]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhead"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("meta"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"rem-和-px-的取舍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rem-和-px-的取舍","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("rem")]),this._v(" 和 "),s("code",[this._v("px")]),this._v(" 的取舍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果项目只适配手机端，"),s("code",[this._v("px")]),this._v("和"),s("code",[this._v("rem")]),this._v("可以根据个人习惯自主选择。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果项目适配多种设备，比如手机和 pad 设备，分辨率差的比较大的情况下，使用"),s("code",[this._v("rem")]),this._v("最优")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"移动端点击背景图-链接有底色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端点击背景图-链接有底色","aria-hidden":"true"}},[this._v("#")]),this._v(" 移动端点击背景图/链接有底色")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{attrs:{class:"token comment"}},[this._v("/* 点击的时候底色透明即可 */")]),this._v("\n"),s("span",{attrs:{class:"token property"}},[this._v("-webkit-tap-highlight-color")]),s("span",{attrs:{class:"token punctuation"}},[this._v(":")]),this._v(" transparent"),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"禁止选择文字-图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#禁止选择文字-图片","aria-hidden":"true"}},[this._v("#")]),this._v(" 禁止选择文字/图片")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v("-webkit-touch-callout")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-webkit-user-select")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-khtml-user-select")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-moz-user-select")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-ms-user-select")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("user-select")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"禁止复制-保存图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#禁止复制-保存图片","aria-hidden":"true"}},[this._v("#")]),this._v(" 禁止复制/保存图片")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("img")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("-webkit-touch-callout")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"页面动画容易出现闪烁白屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面动画容易出现闪烁白屏","aria-hidden":"true"}},[this._v("#")]),this._v(" 页面动画容易出现闪烁白屏")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("使用"),s("code",[this._v("translate3d")]),this._v("优化")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v("-webkit-transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("translate3d")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0, 0, 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-moz-transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("translate3d")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0, 0, 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("-ms-transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("translate3d")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0, 0, 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("translate3d")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0, 0, 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用float排列布局容易出现断层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用float排列布局容易出现断层","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用"),s("code",[this._v("float")]),this._v("排列布局容易出现断层")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("出现原因")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在使用"),s("code",[this._v("float")]),this._v("布局列表的时候，容易出现某一行只出现第一个位置或者最后一个位置的内容，出现这个的原因是，上一行有某个内容的高度和其他高度不同的原因，导致将底下那一行的内容给挤了下去。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("解决")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("给每个"),s("code",[this._v("item")]),this._v("设置一个"),s("strong",[this._v("最小高度/固定高度")]),this._v("即可：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".item")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("min-height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"斜边布局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#斜边布局","aria-hidden":"true"}},[this._v("#")]),this._v(" 斜边布局")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("/* 斜边部分 原理和小三角一样 */")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("position")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("border-width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px 0 0 414px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* 底边的宽度要等于设备宽度 */")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("border-style")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" solid"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("border-color")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transparent transparent gray gray"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("bottom")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v("z-index")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 99"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"transform-和-fixed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transform-和-fixed","aria-hidden":"true"}},[this._v("#")]),this._v(" transform 和 fixed")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在父元素使用"),s("code",[this._v("transform")]),this._v("下使用"),s("code",[this._v("fixed")]),this._v("，将会使"),s("code",[this._v("fixed")]),this._v("失效。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("在使用了"),a("code",[t._v("transform")]),t._v("的容器中不使用"),a("code",[t._v("fixed")]),t._v("，换"),a("code",[t._v("absolute")]),t._v("，并需要通过 js 计算固定位置")]),a("li",[t._v("依然使用"),a("code",[t._v("fixed")]),t._v("，不过使用"),a("code",[t._v("fixed")]),t._v("的容器放在使用"),a("code",[t._v("transform")]),t._v("的容器之外。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"遮罩层滚动点透问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遮罩层滚动点透问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 遮罩层滚动点透问题")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在出现遮罩层的时候，我们可以使用"),s("code",[this._v("@touchmove.prevent")]),this._v("来防止点透的问题出现，也就是遮罩层背后的内容还能滚动的问题。但是如果这样的话，如果遮罩层内有需要滚动的容器，那将使容器的滚动也失效。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("给"),a("code",[t._v("body")]),t._v("设置 css"),a("code",[t._v("{overflow:hidden}")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("问题")]),a("p",[t._v("IOS 上无效")])])]),a("li",[a("p",[t._v("给"),a("code",[t._v("body,html")]),t._v("都设置 css"),a("code",[t._v("{overflow:hidden}")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("问题")]),a("p",[t._v("a - 滚动位置会丢失，需要通过 js 设置 scrollTop")]),a("p",[t._v("b - 没效果")])])]),a("li",[a("p",[t._v("目前比较完美的解决方案")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// 显示弹出层")]),t._v("\n  open"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 在弹出层显示之前，记录当前的滚动位置")]),t._v("\n    scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getScrollTop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 使body脱离文档流")]),t._v("\n    document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("add")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"dialog-open"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 把脱离文档流的body拉上去！否则页面会回到顶部！")]),t._v("\n    document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"px"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    mask"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"block"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// 隐藏弹出层")]),t._v("\n  close"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mask"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"none"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// body又回到了文档流中（我胡汉三又回来啦！）")]),t._v("\n    document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("remove")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"dialog-open"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 滚回到老地方")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("to")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scrollTop"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("to")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scrollTop"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" scrollTop"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getScrollTop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("fixedBody")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssText "),a("span",{attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'position:fixed;top:-'")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("scrollTop"),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token string"}},[t._v("'px;'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("looseBody")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" body "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("position "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" top "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("不过这样依旧会有点问题，就是如果在遮罩层中滚动的时候，做点击操作，会容易出现卡死的现象，就是滚动后需要进行两次点击，再能进行对应的点击操作。对此的解决方案是，改"),s("code",[this._v("click")]),this._v("事件为"),s("code",[this._v("touchstart")]),this._v("事件。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用webkit-overflow-scrolling-touch的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用webkit-overflow-scrolling-touch的坑","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用"),s("code",[this._v("webkit-overflow-scrolling:touch")]),this._v("的坑")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("今天遇到的了一个问题就是内容滚动有时候会出现卡住的情况，尤其是当滚动条位于最顶端或者最底下的时候，继续下拉或者上拉会导致页面卡住，这样的情况颇为频繁，找了很久都没发现问题所在，所以在尝试的情况下注释掉了"),s("code",[this._v("webkit-overflow-scrolling")]),this._v("后，发现居然好了！！！居然好了！！！")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("取消"),a("code",[t._v("webkit-overflow-scrolling:touch")]),t._v("，但是这样会导致滚动时手指离开就马上停住滚动，没有了惯性滚动")])]),a("li",[a("p",[t._v("让子内容的高度"),a("code",[t._v("+1px")]),t._v("，比如父容器使用了"),a("code",[t._v("webkit-overflow-scrolling:touch")]),t._v("，那么子内容的容器设置高度"),a("code",[t._v("height:calc(100% + 1px)")]),t._v("既可以解决。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"spa路由使用history模式下的微信分享bug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spa路由使用history模式下的微信分享bug","aria-hidden":"true"}},[this._v("#")]),this._v(" SPA路由使用"),s("code",[this._v("history")]),this._v("模式下的微信分享bug")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("会出现的一个情况是，我已进入页面是可以分享的，当时如果这时候路由变化，比如"),s("code",[this._v("replace")]),this._v("或者"),s("code",[this._v("push")]),this._v("操作之后，那么分享就会出现问题，并不会如同配置那样分享出来。因为报了"),s("code",[this._v("invaild signature")]),this._v("的错误。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在"),s("code",[this._v("history")]),this._v("模式下，"),s("code",[this._v("vue-router")]),this._v("操作的是浏览器的历史记录，从而改变"),s("code",[this._v("URL")]),this._v("的变化。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("同一个url仅需调用一次，对于变化url的SPA的web app可在每次url变化时进行调用,目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题会在Android6.2中修复")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("但是坑爹的是，"),a("code",[t._v("android")]),t._v("中出现的问题不多，因为每次"),a("code",[t._v("URL")]),t._v("变化后，微信记录的都是当前那个"),a("code",[t._v("URL")]),t._v("，而"),a("code",[t._v("IOS")]),t._v("则不然，"),a("code",[t._v("IOS")]),t._v("是微信只记录页面第一次加载进来的"),a("code",[t._v("URL")]),t._v("地址。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("一进入系统的地址是"),a("code",[t._v("https://a.com")]),t._v("，然后先后进入"),a("code",[t._v("a")]),t._v("、"),a("code",[t._v("b")]),t._v("，也就是"),a("code",[t._v("https://a.com/a")]),t._v("和"),a("code",[t._v("https://a.com/b")]),t._v("，然后停在"),a("code",[t._v("b")]),t._v("页面，在"),a("code",[t._v("android")]),t._v("中，微信记录的是"),a("code",[t._v("https://a.com/b")]),t._v("这个地址，而"),a("code",[t._v("IOS")]),t._v("中记录的却是"),a("code",[t._v("https://a.com")]),t._v("，也就是第一次进来的路由地址。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("这个时候我们刷新页面，那么"),a("code",[t._v("https://a.com/b")]),t._v("就是"),a("code",[t._v("IOS")]),t._v("第一次进来的地址了，所以"),a("code",[t._v("IOS")]),t._v("微信中记录的地址也就变成了"),a("code",[t._v("https://a.com/b")]),t._v("了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("注册一个全局变量，比如可以在"),s("code",[this._v("window")]),this._v("下挂在一个"),s("code",[this._v("wxSignURL")]),this._v("的变量，当一进入页面的时候保存第一次记录的地址："),s("code",[this._v("window.wxSignURL = location.href")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("这段代码可以写在"),a("code",[t._v("main.js")]),t._v("里，也可以写在"),a("code",[t._v("router.js")]),t._v("的钩子函数中，不过要区别对待，如果是"),a("code",[t._v("android")]),t._v("，则使用每次跳转后的路由，如果是"),a("code",[t._v("IOS")]),t._v("则使用记录的"),a("code",[t._v("wxSignURL")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("然后获取"),s("code",[this._v("微信签名")]),this._v("的时候，把这个"),s("code",[this._v("URL")]),this._v("传过去即可。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("IOS")]),t._v("和"),a("code",[t._v("android")]),t._v("的判断使用浏览器的"),a("code",[t._v("ua")]),t._v("判断即可。根据资料，微信会在"),a("code",[t._v("window")]),t._v("下挂载一个"),a("code",[t._v("__wxjs_is_wkwebview")]),t._v("属性，如果是在"),a("code",[t._v("IOS")]),t._v("中，该值为"),a("code",[t._v("true")]),t._v("，也可以通过这个属性去判断。")])}],!1,null,null,null);s.default=e.exports}}]);